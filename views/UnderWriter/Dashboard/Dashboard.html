<style>
    option {
        background-color: rgba(243, 236, 243, 0.973);
        color: black;
    }

      .panel-border
        {
            border-color:#ddd;
            border-radius: 0 !important;
        }


    @media only screen and (device-width: 768px) {
        /* For general iPad layouts */
        .marginbuttoncompany {
            margin-left: 68%;
        }
    }

    @media only screen and (min-device-width: 1024px) {
        /* For general iPad layouts */
        .marginbuttoncompany {
            margin-left: 44%;
        }
    }

    @media only screen and (min-device-width: 1025px) {
        /* For general iPad layouts */
        .marginbuttoncompany {
            margin-left: 45.4%;
        }
    }

    .alert-table {
        width: 100%;
    }

    .alert-table thead,
    .alert-table tbody,
    .alert-table tr,
    .alert-table td,
    .alert-table th {
        display: block;
    }

    .alert-table tr:after {
        content: ' ';
        display: block;
        visibility: hidden;
        clear: both;
    }

    .alert-table thead th {
        height: 30px;
        cursor: pointer;        
    }

    .alert-table tbody {
        height: 190px;
        overflow-y: auto;
    }

    .alert-table thead {
        /* fallback */
    }

    .alert-table thead th,
    .alert-table tbody td {
        width: 22%;
        float: left;
    }

    .alert-table tbody td.text-danger {
        width: 100%;
    }

    .alert-table>thead>tr>th {

        border-bottom: 1px solid #e7ecf1;
    }

    th.action,
    td.action {
        width: 56% !important;
    }

    .viewBtn {
        padding-right: 10px !important;
    }

    .paddingNone {
        padding: 0px!important;
    }

    .table
    {
        cursor: pointer;
    }
</style>
<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 padding1px">
    <!--UnderWriter Information-->
    <div class="portlet light padding1px">
        <div class="panel-body paddingNone">

            <div class="form-group">
                <div class="col-sm-12">
                    <div class="row">
                        <div class="col-lg-7 col-md-7 col-sm-12 col-xs-12 container">
                            <div class="row options_Background" style="margin: -1px;">
                                <div class="caption" style="padding: 5px 5px 5px 10px;">
                                    <span class="caption-subject ng-binding" style="color: #ffffff;font-size:14px;line-height:14px;">{{"LabelText.Alerts"|translate}}</span>
                                </div>
                            </div>
                            <div class="panel panel-default" style="border-color: #3598dc; border-radius: 0 !important;margin-top: 0px;height: 250px;"
                                ng-if="isShowAlerts">
                                <table class="table table-striped table-hover alert-table
                                            table-fixed-header">
                                    <thead>
                                        <tr>
                                            <th>{{"LabelText.Date"|translate}}</th>
                                            <th>{{"LabelText.Appraisal"|translate}}</th>
                                            <th class="action">{{"LabelText.Action"|translate}}</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="alert in AlertList" ng-click="openDetailsPage(alert)">
                                            <td class="col-xs-3">{{alert.createdDate | formatDate }}</td>
                                            <td class="col-xs-3">{{alert.appraisal.appraisalNumber}}</td>
                                            <td class="col-xs-6 action">
                                                <i class="fa fa-warning text-danger"></i>&nbsp;{{alert.message}}</td>
                                            </td>
                                        </tr>

                                        <tr ng-if="AlertList.length===0 || AlertList===null">
                                            <td colspan="9" class="text-center text-danger">{{"LabelText.NoAlertText"|translate}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <!-- show view all btn  inly when alerts are greater than or equal to 5-->
                                <a class="pull-right viewBtn" ng-click="getAllAlerts()" ng-if="showViewBtn">
                                    <u>{{"LabelText.ViewAll"|translate}}</u>
                                </a>
                            </div>
                        </div>

                        <div class="col-lg-5 col-md-5 col-sm-12 col-xs-12 container">
                            <div class="row options_Background" style="margin: -1px;">
                                <div class="caption" style="padding: 5px 5px 5px 10px;">
                                    <span class="caption-subject ng-binding" style="color: #ffffff;font-size:14px;line-height:14px;">{{"LabelText.KPIs"|translate}}</span>
                                </div>
                            </div>
                            <div class="panel panel-default" style="border-color: #3598dc; border-radius: 0 !important;margin-top: 0px;height: 250px;"
                                ng-if="isShowKpis">
                                <div class="panel-body">
                                    <div class="row">
                                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                            <div class="panel panel-default panel-border" ng-if="isShowKpis">
                                                <div class="panel-body" style="text-align:center;height: 120px !important;">
                                                    <strong>
                                                                        <h4 style="font-weight: 500;">{{totalItems}}</h4>
                                                                    </strong>
                                                    <h6>{{"LabelText.OpenAppraisals"|translate}}</h6>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 ">
                                            <div class="panel panel-default panel-border" ng-if="isShowKpis">
                                                <div class="panel-body" style="text-align:center;height: 120px !important;">
                                                    <strong>
                                                                        <h4 style="font-weight: 500;">18.5h</h4>
                                                                    </strong>
                                                    <h6>{{"LabelText.AvgApprovalTime"|translate}}</h6>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4  ">
                                            <div class="panel panel-default panel-border" ng-if="isShowKpis">
                                                <div class="panel-body" style="text-align:center;height: 120px !important;">
                                                    <strong>
                                                                        <h4 style="font-weight: 500;">67%</h4>
                                                                    </strong>
                                                    <h6>{{"LabelText.ItemRenewal"|translate}}</h6>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--End Insurnace Company Information-->
            <!---Branches/Office-->
            <div class="portlet light padding1px">
                <div class="portlet-body">
                    <div class="row">
                        <div class="col-md-12 colsm-12">
                            <div class="portlet-title" style="border-bottom: 1px solid #666; margin-bottom: 5px;">
                                <div class="caption font-gray-sharp ">
                                    <span class="caption-subject ng-binding" style="font-size: 18px;color: #666;">{{"LabelText.NewAppraisalReviewRequests"|translate}}&nbsp;({{totalItems}})</span>
                                </div>
                            </div>

                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 options_Background padding1px">
                                <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12 margin-bottom-5 margin-top-5  pull-right">
                                    <div class="input-icon left">
                                        <i class="icon-magnifier"></i>
                                        <input type="text" ng-model="searchKeyword" class="form-control form-control-solid input-circle input-block-level " placeholder="{{'Underwriter_Search' | translate}}"
                                        ng-keyup="searchKeyword.length > 0 ? ($event.keyCode == 13 && searchAppraisalsBykey(searchKeyword)) : searchAppraisalsBykey('')">
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12 table-responsive padding1px" style="background-color: white;">
                                <table class="table table-striped table-bordered table-hover table-checkable order-column" id="NavigateTable">
                                    <thead>
                                        <tr>
                                            <th ng-click="sort('agency_name')">
                                                {{"LabelText.Agency"|translate}}
                                                <span class="glyphicon sort-icon" ng-show="sortKey==='agency_name'" ng-class="{'glyphicon-chevron-up pull-right':!reverse,'glyphicon-chevron-down pull-right':reverse}"></span>
                                            </th>

                                            <th ng-click="sort('appraisal_number')">
                                                {{"LabelText.Appraisal"|translate}}
                                                <span class="glyphicon sort-icon" ng-show="sortKey==='appraisal_number'" ng-class="{'glyphicon-chevron-up pull-right':!reverse,'glyphicon-chevron-down pull-right':reverse}"></span>
                                            </th>
                                            <th ng-click="sort('item_type')">
                                                {{"LabelText.ItemType"|translate}}
                                                <span class="glyphicon sort-icon" ng-show="sortKey==='item_type'" ng-class="{'glyphicon-chevron-up pull-right':!reverse,'glyphicon-chevron-down pull-right':reverse}"></span>
                                            </th>
                                            <th ng-click="sort('appraisal_updated_date')">
                                                {{"LabelText.SubmittedDate"|translate}}
                                                <span class="glyphicon sort-icon" ng-show="sortKey==='appraisal_updated_date'" ng-class="{'glyphicon-chevron-up pull-right':!reverse,'glyphicon-chevron-down pull-right':reverse}"></span>
                                            </th>
                                            <th ng-click="sort('policy_number')">
                                                {{"LabelText.Policy"|translate}}
                                                <span class="glyphicon sort-icon" ng-show="sortKey==='policy_number'" ng-class="{'glyphicon-chevron-up pull-right':!reverse,'glyphicon-chevron-down pull-right':reverse}"></span>
                                            </th>

                                            <th ng-click="sort('policyholder')">
                                                {{"LabelText.Policyholder"|translate}}
                                                <span class="glyphicon sort-icon" ng-show="sortKey==='policyholder'" ng-class="{'glyphicon-chevron-up pull-right':!reverse,'glyphicon-chevron-down pull-right':reverse}"></span>
                                            </th>
                                            <th ng-click="sort('speedcheck_appraisal_date')">
                                                {{"LabelText.SpeedCheckAppraisalDate"|translate}}
                                                <span class="glyphicon sort-icon" ng-show="sortKey==='speedcheck_appraisal_date'" ng-class="{'glyphicon-chevron-up pull-right':!reverse,'glyphicon-chevron-down pull-right':reverse}"></span>

                                            </th>
                                            <th ng-click="sort('sc_insuranceReplacement_value')">
                                                {{"LabelText.CoverageValue"|translate}}
                                                <span class="glyphicon sort-icon" ng-show="sortKey==='sc_insuranceReplacement_value'" ng-class="{'glyphicon-chevron-up pull-right':!reverse,'glyphicon-chevron-down pull-right':reverse}"></span>
                                            </th>
                                            <th ng-click="sort('status')">
                                                {{"LabelText.Status"|translate}}
                                                <span class="glyphicon sort-icon" ng-show="sortKey==='status'" ng-class="{'glyphicon-chevron-up pull-right':!reverse,'glyphicon-chevron-down pull-right':reverse}"></span>
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>

                                        <tr ng-click="openAppraisalDetailsPage(item)" dir-paginate="item in appraisalList | itemsPerPage:pageSize track by $index"
                                            total-items="totalItems" current-page="currentPage" pagination-id="appraisalRequests">
                                            <td>{{item.agentDetails.agencyCode}}</td>
                                            <td>{{item.appraisalNumber}}</td>
                                            <td>{{item.itemCategory.atttibuteValue}}</td>
                                            <td>{{item.appraisalUpdatedDate | formatDate}}</td>
                                            <td>{{item.policyNumber}}</td>
                                            <td>{{item.policyholderDetails.primaryPolicyHolderLname}}, {{item.policyholderDetails.primaryPolicyHolderFname}}</td>
                                            <td>{{item.speedcheckAppraisalDate | formatDate}}</td>
                                            <td>{{item.sc_insuranceReplacementValue | USCurrencyFormat}}</td>
                                            <td>{{item.status.status | titleCase}}</td>
                                        </tr>

                                        <tr ng-if="appraisalList.length===0 || appraisalList===null">
                                            <td colspan="9" class="text-center text-danger" style="text-align: center;">{{"LabelText.NoAppraisalText"|translate}}</td>
                                        </tr>

                                    </tbody>
                                </table>
                                <div class="clearfix"></div>
                                <dir-pagination-controls pagination-id="appraisalRequests" max-size="10" on-page-change="pageChangeHandler(newPageNumber)" direction-links="true" boundary-links="true" class="pull-right ">
                                </dir-pagination-controls>
                                <span ng-if="appraisalList!=null && appraisalList.length > 0" class="bold" style="color: #337ab7;"> Showing {{ (pageSize * (currentPage - 1))+1 }} to {{toShowingPage}} of {{totalItems}} records </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!---End Branches/Office-->
        </div>
    </div>
</div>
</div>
